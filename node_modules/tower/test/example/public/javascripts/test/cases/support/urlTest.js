
describe('Tower.Support.Url', function() {
  test('urlFor("something")', function() {
    var url;
    url = Tower.urlFor("something");
    return assert.equal(url, "/something");
  });
  test('urlFor("/something")', function() {
    var url;
    url = Tower.urlFor("/something");
    return assert.equal(url, "/something");
  });
  test('urlFor("/something", action: "new")', function() {
    var url;
    url = Tower.urlFor("/something", {
      action: "new"
    });
    return assert.equal(url, "/something/new");
  });
  test('urlFor("/something/longer")', function() {
    var url;
    url = Tower.urlFor("/something/longer");
    return assert.equal(url, "/something/longer");
  });
  test('urlFor(App.User)', function() {
    var url;
    url = Tower.urlFor(App.User);
    return assert.equal(url, "/users");
  });
  test('urlFor(post, App.Comment)', function() {
    var url;
    url = Tower.urlFor(new App.Post({
      id: 10
    }), App.Comment);
    return assert.equal(url, "/posts/10/comments");
  });
  test('urlFor(post, comment)', function() {
    var url;
    url = Tower.urlFor(new App.Post({
      id: 10
    }), new App.Comment({
      id: 20
    }));
    return assert.equal(url, "/posts/10/comments/20");
  });
  test('urlFor("admin", post, comment)', function() {
    var url;
    url = Tower.urlFor("admin", new App.Post({
      id: 10
    }), new App.Comment({
      id: 20
    }));
    return assert.equal(url, "/admin/posts/10/comments/20");
  });
  test('urlFor(post, comment, action: "edit")', function() {
    var url;
    url = Tower.urlFor(new App.Post({
      id: 10
    }), new App.Comment({
      id: 20
    }), {
      action: "edit"
    });
    return assert.equal(url, "/posts/10/comments/20/edit");
  });
  return describe('named routes', function() {
    test('find route', function() {
      var route;
      route = Tower.Route.find('login');
      return assert.equal(route.name, 'login');
    });
    return test('urlFor(route: "login")', function() {
      var url;
      url = Tower.urlFor({
        route: 'login'
      });
      return assert.equal(url, "/sign-in");
    });
  });
});
