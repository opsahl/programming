var attr, describeWith;

attr = Tower.Model.Attribute;

describeWith = function(store) {
  return describe("Testing Issue #92. (Tower.Store." + store.name + ")", function() {
    var issue;
    issue = null;
    beforeEach(function() {
      return issue = new App.Issue92();
    });
    return test('test for changing boolean values', function(done) {
      var _this = this;
      assert.equal(issue.get("enabled"), true);
      issue.set("enabled", false);
      assert.equal(issue.get("enabled"), false);
      return issue.save(function() {
        return App.Issue92.find(issue.get("id"), function(error, issue) {
          assert.equal(issue.get("enabled"), false);
          issue.set("enabled", true);
          assert.equal(issue.get("enabled"), true);
          return issue.save(function() {
            return App.Issue92.find(issue.get("id"), function(error, issue) {
              assert.equal(issue.get("enabled"), true);
              return done();
            });
          });
        });
      });
    });
  });
};

describeWith(Tower.Store.Memory);

if (Tower.client) {
  describeWith(Tower.Store.Ajax);
} else {
  describeWith(Tower.Store.MongoDB);
}
