var controller, describeWith, router, user;

controller = null;

user = null;

router = null;

describeWith = function(store) {
  return describe("Tower.Controller (Tower.Store." + store.name + ")", function() {
    beforeEach(function(done) {
      Tower.Route.draw(function() {
        this.match("/custom", {
          to: "custom#index"
        });
        return this.match("/custom/:id", {
          to: "custom#show"
        });
      });
      controller = new App.CustomController();
      return done();
    });
    return test('resource', function() {
      controller = new App.PostsController;
      assert.equal(controller.resourceName, "post");
      assert.equal(controller.collectionName, "posts");
      return assert.equal(controller.resourceType, "Post");
    });
  });
};

describeWith(Tower.Store.Memory);

if (!Tower.client) {
  describeWith(Tower.Store.MongoDB);
}
